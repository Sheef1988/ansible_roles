---
# vars file for ansible-role-opensearch-dashboards
vault_url: "{{lookup('ansible.builtin.file', '~/vault/{{stand_code}}/url.txt') }}"
vault_token: "{{lookup('ansible.builtin.file', '~/vault/{{stand_code}}/token.txt') }}"

dashboards_os_password: "{{ lookup('hashi_vault', 'secret=secret/{{ project_code }}/{{ stand_code }}/opensearch/custom/opensearch_kibanaserver_password token={{ vault_token }} url={{ vault_url }}').password }}"


opensearch_admin_password_creds: "{{ lookup('hashi_vault', 'secret=secret/{{ project_code }}/{{ stand_code }}/opensearch/custom/opensearch_admin_password token={{ vault_token }} url={{ vault_url }}') }}"
opensearch_admin_password: '{{ opensearch_admin_password_creds.password }}'
avanpost_client: "{{ lookup('hashi_vault', 'secret=secret/{{ project_code }}/{{ stand_code }}/opensearch/custom/avanpost_app token={{ vault_token }} url={{ vault_url }}') }}"

dashboards_client_id: "{{ avanpost_client.client_id }}"
dashboards_client_secret: "{{ avanpost_client.client_secret }}"

dashboards_release: "https://repository.int.platform.tatar.ru/repository/platform-raw-hosted-public/opensearch-dashboards/opensearch-dashboards-{{ dashboards_version }}-linux-x64.tar.gz"
